<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        let totalRequest = 0;
        let successCount = 0;
        let rejectCount = 0;
        let pendingCount = 0;

        while (true) {
            let request = prompt('Có yêu cầu đặt mượn trước mới không? (có/không)').toLowerCase();

            if (request === 'không') {
                break;
            }

            if (request === 'có') {
                totalRequest++;

                let readerName = prompt('Nhập tên bạn đọc:');
                let bookCode = prompt('Nhập mã sách muốn đặt trước:');
                let bookName = prompt('Nhập tên sách (chỉ để tham khảo):');
                let waitDays = +prompt('Nhập số ngày dự kiến chờ (≥ 1):');
                let priority = +prompt('Nhập mức ưu tiên:\n1 - Sinh viên\n2 - Giảng viên/Nghiên cứu\n3 - Nhân viên thư viện/Đặc cách');

                if (waitDays > 45) {
                    console.log('Từ chối: Thời gian chờ quá lâu (>45 ngày)');
                    rejectCount++;
                }

                else if (priority === 3) {
                    console.log('Đặt trước thành công - Ưu tiên đặc cách cao nhất');
                    successCount++;
                }

                else if (priority === 2 && waitDays <= 30) {
                    console.log('Đặt trước thành công - Ưu tiên giảng viên/nghiên cứu');
                    successCount++;
                }

                else if (priority === 1 && waitDays <= 21) {
                    console.log('Đặt trước thành công');
                    successCount++;
                }

                else {
                    console.log('Đặt trước tạm thời - Chờ xét duyệt thêm');
                    pendingCount++;
                }
            }
            else {
                alert('Vui lòng nhập "có" hoặc "không"');
            }
        }

        console.log('Tổng số yêu cầu đã xử lý:', totalRequest);
        console.log('Số yêu cầu đặt trước thành công:', successCount);
        console.log('Số yêu cầu bị từ chối:', rejectCount);
        console.log('Số yêu cầu chờ xét duyệt:', pendingCount);
    </script>

</body>

</html>